@page
@model GisanParkGolf.Pages.Manager.ScoreMissingReportModel
@{
    ViewData["Title"] = "점수 입력 누락 현황";
}

<div class="container mt-4 mb-5">
    <h2 class="mb-4 fw-bold text-primary">@ViewData["Title"]</h2>

    <div class="alert alert-info" role="alert">
        <span class="fw-bold">※ 안내:</span>
        아래 명단은 점수 입력이 누락된 팀/참가자 현황입니다. 빠른 입력을 부탁드립니다.
    </div>

    @if (Model.MissingScoreList == null || !Model.MissingScoreList.Any())
    {
        <div class="alert alert-success text-center my-5" role="alert">
            모든 팀/참가자의 점수가 정상적으로 입력되었습니다.
        </div>
    }
    else
    {
        <table class="table table-bordered align-middle mt-4">
            <thead class="table-light">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">게임코드</th>
                    <th scope="col">대회명</th>
                    <th scope="col">팀번호</th>
                    <th scope="col">참가자명</th>
                    <th scope="col">참가자ID</th>
                    <th scope="col">미입력 코스/홀</th>
                    <th scope="col">점수 입력</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Model.MissingScoreList.Count; i++)
                {
                    var item = Model.MissingScoreList[i];
                    <tr>
                        <th scope="row">@(@i + 1)</th>
                        <td>@item.GameCode</td>
                        <td>@item.GameName</td>
                        <td>@item.TeamNumber</td>
                        <td>@item.ParticipantName</td>
                        <td>@item.ParticipantId</td>
                        <td>
                            @string.Join(", ", item.MissingCoursesAndHoles)
                        </td>
                        <td>
                            <a href="@Url.Page("/Manager/TeamScoreInput", new { GameCode = item.GameCode, TeamNumber = item.TeamNumber })" class="btn btn-sm btn-primary">
                                점수 입력 바로가기
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
</div>