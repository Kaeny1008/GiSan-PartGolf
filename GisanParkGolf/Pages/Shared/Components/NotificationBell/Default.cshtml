@model List<GisanParkGolf.Data.Notification>
<link rel="stylesheet" href="~/css/custom-notification.css" />

<div class="position-relative d-inline-block">
    @if (Model.Count > 0)
    {
        <button type="button" class="btn btn-link position-relative" data-bs-toggle="dropdown" aria-expanded="false" title="알림">
            <i class="bi bi-bell" style="font-size:1.3rem;"></i>
            <span class="badge bg-danger notification-badge">@Model.Count</span>
        </button>
    }
    <ul class="dropdown-menu dropdown-menu-end notification-dropdown wide-notification-dropdown">
        <li class="dropdown-header">알림 목록</li>
        <li><hr class="dropdown-divider" /></li>
        @if (Model.Count == 0)
        {
            <li><span class="dropdown-item-text text-secondary">새로운 알림이 없습니다.</span></li>
        }
        else
        {
            @foreach (var n in Model)
            {
                <li class="notification-item horizontal-notification">
                    <div class="notification-message message-wide">
                        <div class="msg">@n.Message</div>
                        <div class="date">@n.CreatedAt.ToString("yyyy-MM-dd HH:mm")</div>
                    </div>
                    <div class="notification-actions-horizontal">
                        <form asp-controller="Notifications" asp-action="MarkRead" asp-route-id="@n.NotificationId" method="post">
                            <button type="submit" class="btn btn-outline-success btn-circle" title="확인"><i class="bi bi-check"></i></button>
                        </form>
                    </div>
                </li>
            }
        }
    </ul>
</div>